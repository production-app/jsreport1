{"type":"operationStart","subtype":"profile","data":{"_id":"49q3Eg02JwQqb8Ai","timestamp":"2023-04-29T10:36:53.125Z","state":"queued","mode":"standard","creationDate":"2023-04-29T10:36:53.126Z","modificationDate":"2023-04-29T10:36:53.126Z","shortid":"4J9emMN","$entitySet":"profiles"},"doDiffs":false,"timestamp":1682764613125,"id":"9xdew4iucd4gog9","previousOperationId":null,"operationId":"2mzm3k4ja1kigo0"}
{"type":"log","level":"info","message":"Render request 42 queued for execution and waiting for available worker","previousOperationId":"2mzm3k4ja1kigo0","timestamp":1682764613125,"id":"zwiuvhfrxmjs8l9"}
{"type":"operationStart","subtype":"render","name":"invoice-main","previousOperationId":"2mzm3k4ja1kigo0","timestamp":1682764613133,"id":"kuumze4nl4zkxqg","previousEventId":"9xdew4iucd4gog9","operationId":"8n0srl2g4ry51wj"}
{"type":"log","timestamp":1682764613133,"level":"info","message":"Starting rendering request 42","meta":{"rootId":"risie79mgtlz830","id":"risie79mgtlz830"},"id":"ix4nkes21dj7zl5","previousOperationId":"8n0srl2g4ry51wj"}
{"type":"log","timestamp":1682764613133,"level":"info","message":"Rendering template { name: invoice-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"risie79mgtlz830","id":"risie79mgtlz830"},"id":"n3k1m3qfbu8nb6e","previousOperationId":"8n0srl2g4ry51wj"}
{"type":"log","timestamp":1682764613135,"level":"debug","message":"Adding sample data Sy5S19ncg","meta":{"rootId":"risie79mgtlz830","id":"risie79mgtlz830"},"id":"3fffnuv3il0vfdy","previousOperationId":"8n0srl2g4ry51wj"}
{"type":"log","timestamp":1682764613139,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"risie79mgtlz830","id":"risie79mgtlz830"},"id":"brkmb1xm5h9qujd","previousOperationId":"8n0srl2g4ry51wj"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1682764613139,"id":"y9hk1iinc0t2fdo","previousEventId":"kuumze4nl4zkxqg","operationId":"rx1gw0y9z761uem","previousOperationId":"8n0srl2g4ry51wj"}
{"type":"log","timestamp":1682764613139,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"risie79mgtlz830","id":"risie79mgtlz830"},"id":"y57f3hcgyuuywjb","previousOperationId":"rx1gw0y9z761uem"}
{"type":"log","timestamp":1682764613156,"level":"warn","message":"Error when processing render request 42\n(because) error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) cannot use import statement outside a module\nsandbox.js:2\nimport { toBuffer } from 'bwip-js';\n^^^^^^\n\nSyntaxError: Cannot use import statement outside a module\n    at new Script (node:vm:100:7)\n    at doCompileScript (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:224:14)\n    at run (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:169:72)\n    at WorkerReporter._runInSandbox (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:20)\n    at async executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:263:14)\n    at async engine.engine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) cannot use import statement outside a module\n    at module.exports (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:286:33)\n    at async engine.engine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)","meta":{"rootId":"risie79mgtlz830","id":"risie79mgtlz830"},"id":"i3wbaq08ghhoxnw","previousOperationId":"rx1gw0y9z761uem"}
{"type":"log","timestamp":1682764613156,"level":"warn","message":"Rendering request 42 finished with error in 31 ms","meta":{"rootId":"risie79mgtlz830","id":"risie79mgtlz830"},"id":"v5m3uxb6mx0nnpg","previousOperationId":"rx1gw0y9z761uem"}
{"type":"error","timestamp":1682764613159,"entity":{"shortid":"rkJTnK2ce","name":"invoice-main","content":"<div class=\"prow\">&nbsp;</div>\n<table style=\"border-collapse: collapse; width: 100%;\" border=\"0\">\n<tbody>\n<tr>\n<td style=\"width: 28.9566%; vertical-align: top;\">\n<p style=\"text-align: left; line-height: 1;\"><span style=\"font-family: Lato; font-size: 26pt; color: #34495e;\"><strong>INVOICE</strong></span></p>\n{{!-- <p style=\"line-height: 1; text-align: left;\"><span style=\"font-family: Lato;\"><span style=\"text-align: center;\">{{website | render_qrcode(style='width: 40px;height:40px;background: white;')}}</span></span></p> --}}\n<p style=\"text-align: left; line-height: 1;\"><span style=\"font-family: Montserrat; font-size: 10pt; text-align: start;\"><span style=\"font-family: Lato;\"><span style=\"text-align: center;\"><span style=\"text-align: start;\">{{website}}</span></span></span></span></p>\n</td>\n<td style=\"width: 44.4206%; vertical-align: top;\">\n<p><span style=\"font-family: Lato; text-align: center;\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"https://apitemplateio-user.s3-ap-southeast-1.amazonaws.com/1/7103/474ccdeb-790e-4e0a-b6d9-e23b0a4c4ecf.png\" alt=\"\" width=\"200\" height=\"74\" /><br /></span></p>\n<p style=\"text-align: center; line-height: 1;\"><span style=\"font-family: Montserrat; font-size: 10pt; text-align: start;\">{{company}}</span></p>\n<p style=\"text-align: center; line-height: 1;\"><span style=\"font-family: Montserrat; font-size: 10pt; text-align: start;\"><span style=\"font-family: Lato;\"><strong>E-MAIL:</strong> {{email}}&nbsp;</span></span></p>\n</td>\n<td style=\"width: 26.74%; vertical-align: top;\">\n<p style=\"text-align: right;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>TRACKING NO:</strong> {{document_id}}</span></p>\n{{!-- <p style=\"text-align: right;\"><span style=\"font-family: Lato;\">{{document_id | render_barcode(type='code128', style='height: 80px;')}}</span></p> --}}\n<p style=\"text-align: right;\">&nbsp;</p>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"prow\">&nbsp;</div>\n<div class=\"prow\">&nbsp;</div>\n<table style=\"border-collapse: collapse; width: 100%;\" border=\"0\">\n<tbody>\n<tr>\n<td style=\"width: 69.0282%;\">\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 14pt;\"><strong>BILL TO</strong></span></p>\n<p style=\"line-height: 1;\"><span style=\"font-size: 10pt;\"><strong><span style=\"font-family: Lato;\">{{company_bill_to}}</span></strong>&nbsp;</span></p>\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><span style=\"text-align: start;\">{{address_bill_to}}</span></span></p>\n</td>\n<td style=\"width: 31.0891%;\">\n<div class=\"prow\">\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>INVOICE NO: </strong>{{invoice_no}}</span></p>\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>INVOICE DATE: </strong>{{invoice_date}}</span></p>\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>DUE DATE:</strong>&nbsp;{{invoice_due_date}}</span></p>\n</div>\n</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<table style=\"border-collapse: collapse; width: 100%; height: 209px;\" border=\"0\">\n<tbody>\n<tr style=\"height: 32px;\">\n<td style=\"width: 48.3001%; height: 32px; background-color: #34495e;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">&nbsp; ITEM NAME</span></strong></span></td>\n<td style=\"width: 21.5709%; height: 32px; background-color: #34495e; text-align: right;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">UNIT PRICE</span></strong></span></td>\n<td style=\"width: 17.3435%; height: 32px; background-color: #34495e; text-align: center;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">UNIT</span></strong></span></td>\n<td style=\"width: 12.7854%; height: 32px; background-color: #34495e; text-align: right;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">TOTAL&nbsp;&nbsp;</span></strong></span></td>\n</tr>\n<tr class=\"apitemplate-is-content-hidden\" style=\"height: 20px;\">\n<td style=\"width: 100%; height: 20px;\" colspan=\"4\"><span style=\"font-family: Lato;\">{%for item in items%} - use \"Hide Row\"(Eye+Row Icon) in the toolbar to make this line hidden</span></td>\n</tr>\n<tr style=\"height: 33px;\">\n<td style=\"width: 48.3001%; height: 33px;\"><span style=\"font-family: Lato; font-size: 10pt;\">{{item.item_name}}</span></td>\n<img  src='data:image/png;base64,{{barcode}}' />\n<td style=\"width: 17.3435%; height: 33px; text-align: center;\"><span style=\"font-family: Lato; font-size: 10pt;\">{{item.unit}}</span></td>\n{{!-- <td style=\"width: 12.7854%; height: 33px; text-align: right;\"><span style=\"font-family: Lato; font-size: 10pt;\">&nbsp;{{ \"$%.2f\" | format(item.unit_price * item.unit) }}</span></td> --}}\n</tr>\n<tr class=\"apitemplate-is-content-hidden\" style=\"height: 20px;\">\n<td style=\"width: 100%; height: 20px;\" colspan=\"4\"><span style=\"font-family: Lato;\">{%endfor%} - use \"Hide Row\"(Eye+Row Icon) in the toolbar to make this line hidden</span></td>\n</tr>\n<tr style=\"height: 104px;\">\n<td style=\"width: 48.3001%; height: 104px;\">&nbsp;</td>\n<td style=\"width: 21.5709%; height: 104px;\">&nbsp;</td>\n<td style=\"width: 17.3435%; height: 104px;\">&nbsp;</td>\n<td style=\"width: 12.7854%; height: 104px; text-align: right;\">\n{{!-- <p><span style=\"font-family: Lato; font-size: 10pt;\">{{\"$%.2f\" | format(items | sum(attribute='total')) }}</span></p> --}}\n</td>\n</tr>\n</tbody>\n</table>\n<p style=\"text-align: right;\">&nbsp;</p>\n<p style=\"text-align: center;\"><strong><span style=\"font-family: Lato;\">THANK YOU FOR YOUR BUSINESS!</span></strong></p>\n<p><span style=\"font-family: Lato;\"><img src=\"https://apitemplateio-user.s3-ap-southeast-1.amazonaws.com/1/20/ce8988bc-dab7-4a0d-a368-0f6997396139.png\" alt=\"\" width=\"139\" height=\"68\" /></span></p>\n<p><span style=\"font-family: Lato;\"><span style=\"text-decoration: underline;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> &nbsp; &nbsp;DATE:&nbsp;</span></p>\n<p><span style=\"font-family: Lato;\">{{company}}</span></p>\n<p>&nbsp;</p>\n<p><span style=\"font-family: Lato;\"><span style=\"text-decoration: underline;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> &nbsp; &nbsp;DATE:&nbsp;</span></p>\n<p><span style=\"font-family: Lato;\">{{company_bill_to}}</span></p>\n<div class=\"prow\">&nbsp;</div>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"rx1gw0y9z761uem","id":"85j307qb532h1kh","stack":"sandbox.js:2\nimport { toBuffer } from 'bwip-js';\n^^^^^^\n\nSyntaxError: Cannot use import statement outside a module\n    at new Script (node:vm:100:7)\n    at doCompileScript (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:224:14)\n    at run (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:169:72)\n    at WorkerReporter._runInSandbox (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:20)\n    at async executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:263:14)\n    at async engine.engine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) cannot use import statement outside a module\n    at module.exports (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:286:33)\n    at async engine.engine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)","message":"Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) cannot use import statement outside a module"}
