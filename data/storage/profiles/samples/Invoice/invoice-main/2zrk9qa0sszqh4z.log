{"type":"operationStart","subtype":"profile","data":{"_id":"bjgfKSnEVEJdlyWQ","timestamp":"2023-04-29T10:42:56.011Z","state":"queued","mode":"standard","creationDate":"2023-04-29T10:42:56.013Z","modificationDate":"2023-04-29T10:42:56.013Z","shortid":"cUq9Ljo","$entitySet":"profiles"},"doDiffs":false,"timestamp":1682764976012,"id":"5r0nxl1a4hv029q","previousOperationId":null,"operationId":"w8j8jh9hz0aghxt"}
{"type":"log","level":"info","message":"Render request 10 queued for execution and waiting for available worker","previousOperationId":"w8j8jh9hz0aghxt","timestamp":1682764976012,"id":"cizoa9vf257fvk0"}
{"type":"operationStart","subtype":"render","name":"invoice-main","previousOperationId":"w8j8jh9hz0aghxt","timestamp":1682764976020,"id":"rsspuorio3rq2xc","previousEventId":"5r0nxl1a4hv029q","operationId":"i0zyflb1xt8cuxn"}
{"type":"log","timestamp":1682764976020,"level":"info","message":"Starting rendering request 10","meta":{"rootId":"2zrk9qa0sszqh4z","id":"2zrk9qa0sszqh4z"},"id":"omdtdvaav893i2f","previousOperationId":"i0zyflb1xt8cuxn"}
{"type":"log","timestamp":1682764976020,"level":"info","message":"Rendering template { name: invoice-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"2zrk9qa0sszqh4z","id":"2zrk9qa0sszqh4z"},"id":"nhn8ypkr4y37r91","previousOperationId":"i0zyflb1xt8cuxn"}
{"type":"log","timestamp":1682764976022,"level":"debug","message":"Adding sample data Sy5S19ncg","meta":{"rootId":"2zrk9qa0sszqh4z","id":"2zrk9qa0sszqh4z"},"id":"eul8c55c0qyvbwg","previousOperationId":"i0zyflb1xt8cuxn"}
{"type":"log","timestamp":1682764976027,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"2zrk9qa0sszqh4z","id":"2zrk9qa0sszqh4z"},"id":"pb2lrkv6v62zysl","previousOperationId":"i0zyflb1xt8cuxn"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1682764976028,"id":"d4vk9m0d4n0kppd","previousEventId":"rsspuorio3rq2xc","operationId":"lae7z037sqmkiw9","previousOperationId":"i0zyflb1xt8cuxn"}
{"type":"log","timestamp":1682764976028,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"2zrk9qa0sszqh4z","id":"2zrk9qa0sszqh4z"},"id":"5aupae0j5mhgu38","previousOperationId":"lae7z037sqmkiw9"}
{"type":"log","timestamp":1682764976153,"level":"warn","message":"Error when processing render request 10\n(because) error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"barcode\" helper call failed\n(because) bwipp.typeError: barcode text not a string ([object Object])\n\n(sandbox.js line 23:17)\n\n  21 |\n  22 | function barcode(id)  {\n> 23 |   return bwipjs.toBuffer({\n     |                 ^\n  24 |     bcid:  'code128',\n  25 |     text:  id,\n  26 |     scale:  2,\n\n\nError: bwipp.typeError: barcode text not a string ([object Object])\n    at bwipp_encode (C:\\workspace\\jsReport\\node_modules\\bwip-js\\dist\\bwip-js-node.js:39656:15)\n    at _Render (C:\\workspace\\jsReport\\node_modules\\bwip-js\\dist\\bwip-js-node.js:223:5)\n    at Object.ToBuffer [as toBuffer] (C:\\workspace\\jsReport\\node_modules\\bwip-js\\dist\\bwip-js-node.js:88:10)\n    at Object.barcode (sandbox.js:23:17)\n    at Object.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:344:23)\n    at Object.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:323:27)\n    at Object.wrapper (C:\\workspace\\jsReport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:12:196)\n    at main (C:\\workspace\\jsReport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n    at ret (C:\\workspace\\jsReport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\nwrapped by:\nError: \"barcode\" helper call failed\n(because) bwipp.typeError: barcode text not a string ([object Object])\n    at module.exports (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:340:54)\n    at C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:15\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40\n    at async Promise.all (index 0)\n    at async executionFn (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:221:9)\n    at async run (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:263:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"barcode\" helper call failed\n(because) bwipp.typeError: barcode text not a string ([object Object])\n    at module.exports (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:286:33)\n    at async engine.engine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)","meta":{"rootId":"2zrk9qa0sszqh4z","id":"2zrk9qa0sszqh4z"},"id":"brlro7egxiu8cfb","previousOperationId":"lae7z037sqmkiw9"}
{"type":"log","timestamp":1682764976153,"level":"warn","message":"Rendering request 10 finished with error in 142 ms","meta":{"rootId":"2zrk9qa0sszqh4z","id":"2zrk9qa0sszqh4z"},"id":"v8rwqbxacq3pobt","previousOperationId":"lae7z037sqmkiw9"}
{"type":"error","timestamp":1682764976159,"entity":{"shortid":"rkJTnK2ce","name":"invoice-main","content":"<div class=\"prow\">&nbsp;</div>\n<table style=\"border-collapse: collapse; width: 100%;\" border=\"0\">\n<tbody>\n<tr>\n<td style=\"width: 28.9566%; vertical-align: top;\">\n<p style=\"text-align: left; line-height: 1;\"><span style=\"font-family: Lato; font-size: 26pt; color: #34495e;\"><strong>INVOICE</strong></span></p>\n<img  src='data:image/png;base64,{{barcode}}' />\n{{!-- <p style=\"line-height: 1; text-align: left;\"><span style=\"font-family: Lato;\"><span style=\"text-align: center;\">{{website | render_qrcode(style='width: 40px;height:40px;background: white;')}}</span></span></p> --}}\n<p style=\"text-align: left; line-height: 1;\"><span style=\"font-family: Montserrat; font-size: 10pt; text-align: start;\"><span style=\"font-family: Lato;\"><span style=\"text-align: center;\"><span style=\"text-align: start;\">{{website}}</span></span></span></span></p>\n</td>\n<td style=\"width: 44.4206%; vertical-align: top;\">\n<p><span style=\"font-family: Lato; text-align: center;\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"https://apitemplateio-user.s3-ap-southeast-1.amazonaws.com/1/7103/474ccdeb-790e-4e0a-b6d9-e23b0a4c4ecf.png\" alt=\"\" width=\"200\" height=\"74\" /><br /></span></p>\n<p style=\"text-align: center; line-height: 1;\"><span style=\"font-family: Montserrat; font-size: 10pt; text-align: start;\">{{company}}</span></p>\n<p style=\"text-align: center; line-height: 1;\"><span style=\"font-family: Montserrat; font-size: 10pt; text-align: start;\"><span style=\"font-family: Lato;\"><strong>E-MAIL:</strong> {{email}}&nbsp;</span></span></p>\n</td>\n<td style=\"width: 26.74%; vertical-align: top;\">\n<p style=\"text-align: right;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>TRACKING NO:</strong> {{document_id}}</span></p>\n{{!-- <p style=\"text-align: right;\"><span style=\"font-family: Lato;\">{{document_id | render_barcode(type='code128', style='height: 80px;')}}</span></p> --}}\n<p style=\"text-align: right;\">&nbsp;</p>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"prow\">&nbsp;</div>\n<div class=\"prow\">&nbsp;</div>\n<table style=\"border-collapse: collapse; width: 100%;\" border=\"0\">\n<tbody>\n<tr>\n<td style=\"width: 69.0282%;\">\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 14pt;\"><strong>BILL TO</strong></span></p>\n<p style=\"line-height: 1;\"><span style=\"font-size: 10pt;\"><strong><span style=\"font-family: Lato;\">{{company_bill_to}}</span></strong>&nbsp;</span></p>\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><span style=\"text-align: start;\">{{address_bill_to}}</span></span></p>\n</td>\n<td style=\"width: 31.0891%;\">\n<div class=\"prow\">\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>INVOICE NO: </strong>{{invoice_no}}</span></p>\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>INVOICE DATE: </strong>{{invoice_date}}</span></p>\n<p style=\"line-height: 1;\"><span style=\"font-family: Lato; font-size: 10pt;\"><strong>DUE DATE:</strong>&nbsp;{{invoice_due_date}}</span></p>\n</div>\n</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<table style=\"border-collapse: collapse; width: 100%; height: 209px;\" border=\"0\">\n<tbody>\n<tr style=\"height: 32px;\">\n<td style=\"width: 48.3001%; height: 32px; background-color: #34495e;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">&nbsp; ITEM NAME</span></strong></span></td>\n<td style=\"width: 21.5709%; height: 32px; background-color: #34495e; text-align: right;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">UNIT PRICE</span></strong></span></td>\n<td style=\"width: 17.3435%; height: 32px; background-color: #34495e; text-align: center;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">UNIT</span></strong></span></td>\n<td style=\"width: 12.7854%; height: 32px; background-color: #34495e; text-align: right;\"><span style=\"color: #ecf0f1;\"><strong><span style=\"font-family: Lato;\">TOTAL&nbsp;&nbsp;</span></strong></span></td>\n</tr>\n<tr class=\"apitemplate-is-content-hidden\" style=\"height: 20px;\">\n<td style=\"width: 100%; height: 20px;\" colspan=\"4\"><span style=\"font-family: Lato;\">{%for item in items%} - use \"Hide Row\"(Eye+Row Icon) in the toolbar to make this line hidden</span></td>\n</tr>\n<tr style=\"height: 33px;\">\n<td style=\"width: 48.3001%; height: 33px;\"><span style=\"font-family: Lato; font-size: 10pt;\">{{item.item_name}}</span></td>\n\n<td style=\"width: 17.3435%; height: 33px; text-align: center;\"><span style=\"font-family: Lato; font-size: 10pt;\">{{item.unit}}</span></td>\n{{!-- <td style=\"width: 12.7854%; height: 33px; text-align: right;\"><span style=\"font-family: Lato; font-size: 10pt;\">&nbsp;{{ \"$%.2f\" | format(item.unit_price * item.unit) }}</span></td> --}}\n</tr>\n<tr class=\"apitemplate-is-content-hidden\" style=\"height: 20px;\">\n<td style=\"width: 100%; height: 20px;\" colspan=\"4\"><span style=\"font-family: Lato;\">{%endfor%} - use \"Hide Row\"(Eye+Row Icon) in the toolbar to make this line hidden</span></td>\n</tr>\n<tr style=\"height: 104px;\">\n<td style=\"width: 48.3001%; height: 104px;\">&nbsp;</td>\n<td style=\"width: 21.5709%; height: 104px;\">&nbsp;</td>\n<td style=\"width: 17.3435%; height: 104px;\">&nbsp;</td>\n<td style=\"width: 12.7854%; height: 104px; text-align: right;\">\n{{!-- <p><span style=\"font-family: Lato; font-size: 10pt;\">{{\"$%.2f\" | format(items | sum(attribute='total')) }}</span></p> --}}\n</td>\n</tr>\n</tbody>\n</table>\n<p style=\"text-align: right;\">&nbsp;</p>\n<p style=\"text-align: center;\"><strong><span style=\"font-family: Lato;\">THANK YOU FOR YOUR BUSINESS!</span></strong></p>\n<p><span style=\"font-family: Lato;\"><img src=\"https://apitemplateio-user.s3-ap-southeast-1.amazonaws.com/1/20/ce8988bc-dab7-4a0d-a368-0f6997396139.png\" alt=\"\" width=\"139\" height=\"68\" /></span></p>\n<p><span style=\"font-family: Lato;\"><span style=\"text-decoration: underline;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> &nbsp; &nbsp;DATE:&nbsp;</span></p>\n<p><span style=\"font-family: Lato;\">{{company}}</span></p>\n<p>&nbsp;</p>\n<p><span style=\"font-family: Lato;\"><span style=\"text-decoration: underline;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> &nbsp; &nbsp;DATE:&nbsp;</span></p>\n<p><span style=\"font-family: Lato;\">{{company_bill_to}}</span></p>\n<div class=\"prow\">&nbsp;</div>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"lae7z037sqmkiw9","id":"94o2mwejfwrmjjt","stack":"Error: bwipp.typeError: barcode text not a string ([object Object])\n    at bwipp_encode (C:\\workspace\\jsReport\\node_modules\\bwip-js\\dist\\bwip-js-node.js:39656:15)\n    at _Render (C:\\workspace\\jsReport\\node_modules\\bwip-js\\dist\\bwip-js-node.js:223:5)\n    at Object.ToBuffer [as toBuffer] (C:\\workspace\\jsReport\\node_modules\\bwip-js\\dist\\bwip-js-node.js:88:10)\n    at Object.barcode (sandbox.js:23:17)\n    at Object.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:344:23)\n    at Object.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:323:27)\n    at Object.wrapper (C:\\workspace\\jsReport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:12:196)\n    at main (C:\\workspace\\jsReport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n    at ret (C:\\workspace\\jsReport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\nwrapped by:\nError: \"barcode\" helper call failed\n(because) bwipp.typeError: barcode text not a string ([object Object])\n    at module.exports (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:340:54)\n    at C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:15\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40\n    at async Promise.all (index 0)\n    at async executionFn (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:221:9)\n    at async run (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:263:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"barcode\" helper call failed\n(because) bwipp.typeError: barcode text not a string ([object Object])\n    at module.exports (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:286:33)\n    at async engine.engine (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\workspace\\jsReport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\workspace\\jsReport\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)","message":"Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"barcode\" helper call failed\n(because) bwipp.typeError: barcode text not a string ([object Object])\n\n(sandbox.js line 23:17)\n\n  21 |\n  22 | function barcode(id)  {\n> 23 |   return bwipjs.toBuffer({\n     |                 ^\n  24 |     bcid:  'code128',\n  25 |     text:  id,\n  26 |     scale:  2,\n\n"}
